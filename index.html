<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è˜‘è‡æ£®æ—</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ç»ç’ƒæ‹Ÿæ€å¯¼èˆªæ  -->
    <nav class="glass-nav">
        <div class="nav-logo">è˜‘è‡æ£®æ—</div>
        <ul class="nav-links">
            <li><a href="#">é¦–é¡µ</a></li>
            <li><a href="#blog">è˜‘è‡æœ­è®°</a></li>
            <li><a href="#monthly">è˜‘è‡æœˆæœˆè®°</a></li>
            <li><a href="#gallery">æ£®æ—å®è—</a></li>
        </ul>
    </nav>

    <!-- å¤´éƒ¨åŒºåŸŸ -->
    <header>
        <div class="forest-bg"></div>
        <div class="tree tree-1"></div>
        <div class="tree tree-2"></div>
        <div class="tree tree-3"></div>
        <div class="tree tree-4"></div>
        
        <div class="mushroom" id="mushroom">
            <div class="mushroom-cap"></div>
            <div class="mushroom-stem"></div>
        </div>
        
        <div class="header-content">
            <h1 class="site-title">Welcome to Mushroom's World !</h1>
            <p class="site-subtitle">è˜‘è‡ç¢ç¢å¿µ & ä¸€äº›å°å°æ—¥å¸¸</p>
            <a href="#main-content" class="explore-btn" id="exploreBtn">è¿›å…¥æ¢ç´¢</a>
        </div>
        
        <div class="scroll-down">
            <i class="fas fa-chevron-down"></i>
        </div>
    </header>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
    <div class="container" id="main-content">
        <!-- å·¦ä¾§è¾¹æ  -->
        <aside class="sidebar">
            <!-- ä¸ªäººä»‹ç»æ¡† -->
            <div class="sidebar-box user-section">
                <div class="avatar-container">
                    <div class="sidebar-mushroom-avatar">
                        <div class="sidebar-mushroom-cap"></div>
                        <div class="sidebar-mushroom-stem"></div>
                    </div>
                </div>
                <h2 class="user-name">è˜‘è‡å¤§ç‹</h2>
                <p class="user-bio">å—¨å—¨~å®¶äººä»¬ï¼Œæ¬¢è¿æ¥åˆ°è˜‘è‡çš„è‡ªè¨€è‡ªè¯­æœ€é«˜å¿ƒäº‹ç§˜å¯†æˆ˜ç•¥åŸºåœ°ï¼</p>
                
                <!-- ä¸ªäººä»‹ç»ä¸‹æ–¹çš„åˆ†éš”çº¿ -->
                <div class="bio-divider"></div>
                
                <!-- ç»Ÿè®¡ä¿¡æ¯åŒºåŸŸ -->
                <div class="stats-section">
                    <div class="stat-item">
                        <span class="stat-label">åšå®¢</span>
                        <span class="stat-number">3</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">ç¬é—´</span>
                        <span class="stat-number">5</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">äº’åŠ¨</span>
                        <span class="stat-number">3</span>
                    </div>
                </div>
            </div>

            <!-- è˜‘è‡å¸‚å¿ƒæƒ…é¢„æŠ¥ -->
            <div class="sidebar-box weather-forecast">
                <h3 class="weather-title">è˜‘è‡å¸‚å¿ƒæƒ…é¢„æŠ¥</h3>
                <div class="weather-content">
                    <div class="current-weather">
                        <div class="weather-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="weather-info">
                            <div class="temperature">25Â°C</div>
                            <div class="weather-desc">æ™´æœ—</div>
                        </div>
                    </div>
                    <div class="weather-details">
                        <div class="detail-item">
                            <span class="detail-label">æ¹¿åº¦</span>
                            <span class="detail-value">65%</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å¿ƒæƒ…æŒ‡æ•°</span>
                            <span class="detail-value">89/100</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ä»Šæ—¥å»ºè®®</span>
                            <span class="detail-value">é€‚åˆæˆ·å¤–æ•£æ­¥</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ç•™è¨€æ¿ -->
            <div class="sidebar-box message-board">
                <h3 class="message-title">ç•™è¨€æ¿</h3>
                <div class="message-content">
                    <div class="message-list">
                        <div class="message-item">
                            <div class="message-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="message-text">
                                <div class="message-author">å°è˜‘è‡</div>
                                <div class="message-body">ä»Šå¤©å¤©æ°”çœŸå¥½ï¼Œé€‚åˆå»æ£®æ—æ•£æ­¥ï¼</div>
                                <div class="message-time">10åˆ†é’Ÿå‰</div>
                            </div>
                        </div>
                        <div class="message-item">
                            <div class="message-avatar">
                                <i class="fas fa-user"></i>
                            </div>
                            <div class="message-text">
                                <div class="message-author">æ£®æ—å®ˆæŠ¤è€…</div>
                                <div class="message-body">å‘ç°äº†ä¸€æœµç‰¹åˆ«æ¼‚äº®çš„è˜‘è‡ï¼</div>
                                <div class="message-time">1å°æ—¶å‰</div>
                            </div>
                        </div>
                    </div>
                    <div class="message-input">
                        <textarea placeholder="å†™ä¸‹ä½ çš„ç•™è¨€..."></textarea>
                        <button class="send-btn">å‘é€</button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <!-- è˜‘è‡æœ­è®°éƒ¨åˆ† -->
            <section id="blog">
                <h2 class="section-title">è˜‘è‡æœ­è®°</h2>
                <div class="blog-posts">
                    <!-- åšå®¢æ–‡ç« 1 -->
                    <article class="blog-post" data-id="1">
                        <div class="post-image-container">
                            <div class="post-carousel">
                                <div class="carousel-slides">
                                    <div class="carousel-slide active" style="background-image: url('images/glj 1.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/glj 2.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/glj 3.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/glj 4.jpg')"></div>
                                </div>
                                <!-- æŒ‡ç¤ºå™¨ -->
                                <div class="carousel-indicators">
                                    <span class="indicator active" data-index="0"></span>
                                    <span class="indicator" data-index="1"></span>
                                    <span class="indicator" data-index="2"></span>
                                    <span class="indicator" data-index="3"></span>
                                </div>
                            </div>
                        </div>
                        <div class="post-content">
                            <h3 class="post-title">ğŸ„è˜‘è‡å¥½å‹è®°Â·å°è°·åŒå¿—</h3>
                            <div class="post-meta">
                                <span><i class="far fa-calendar"></i> 2025å¹´8æœˆ9æ—¥</span>
                                <span><i class="far fa-comment"></i> 2æ¡è¯„è®º</span>
                            </div>
                            <p class="post-excerpt">å’Œç‰¹åˆ«åˆæ‹çš„æœ‹å‹è§é¢ï¼Œæ˜¯ç”Ÿå‘½èƒ½é‡ç‰¹æ®Šçš„å¿«å……æ–¹å¼ï¼</p>
                            <a href="#" class="read-more">é˜…è¯»æ›´å¤š <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </article>
                    
                    <!-- åšå®¢æ–‡ç« 2 -->
                    <article class="blog-post" data-id="2">
                        <div class="post-image-container">
                            <div class="post-carousel">
                                <div class="carousel-slides">
                                    <div class="carousel-slide active" style="background-image: url('images/dm 5.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/dm 4.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/dm 3.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/dm 2.jpg')"></div>
                                </div>
                                <!-- æŒ‡ç¤ºå™¨ -->
                                <div class="carousel-indicators">
                                    <span class="indicator active" data-index="0"></span>
                                    <span class="indicator" data-index="1"></span>
                                    <span class="indicator" data-index="2"></span>
                                    <span class="indicator" data-index="3"></span>
                                </div>
                            </div>
                        </div>
                        <div class="post-content">
                            <h3 class="post-title">å‚æ™šå…­ç‚¹åŠ</h3>
                            <div class="post-meta">
                                <span><i class="far fa-calendar"></i> 2025å¹´8æœˆ29æ—¥</span>
                                <span><i class="far fa-comment"></i> 2æ¡è¯„è®º</span>
                            </div>
                            <p class="post-excerpt">å¸Œæœ›æˆ‘ä»¬æ°¸è¿œæ‹¥æœ‰å‚æ™šå…­ç‚¹åŠçš„è‡ªç”±å’Œæµªæ¼«</p>
                            <a href="#" class="read-more">é˜…è¯»æ›´å¤š <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </article>
                    
                    <!-- åšå®¢æ–‡ç« 3 -->
                    <article class="blog-post" data-id="3">
                        <div class="post-image-container">
                            <div class="post-carousel">
                                <div class="carousel-slides">
                                    <div class="carousel-slide active" style="background-image: url('images/lr 4.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/lr 3.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/lr 1.jpg')"></div>
                                    <div class="carousel-slide" style="background-image: url('images/lr 5.jpg')"></div>
                                </div>
                                <!-- æŒ‡ç¤ºå™¨ -->
                                <div class="carousel-indicators">
                                    <span class="indicator active" data-index="0"></span>
                                    <span class="indicator" data-index="1"></span>
                                    <span class="indicator" data-index="2"></span>
                                    <span class="indicator" data-index="3"></span>
                                </div>
                            </div>
                        </div>
                        <div class="post-content">
                            <h3 class="post-title">æ—¥è½æ—¶åˆ†</h3>
                            <div class="post-meta">
                                <span><i class="far fa-calendar"></i> 2025å¹´8æœˆ30æ—¥</span>
                                <span><i class="far fa-comment"></i> 1æ¡è¯„è®º</span>
                            </div>
                            <p class="post-excerpt">"æˆ‘çš„ä¸€ç”Ÿä¸­æœ‰æ— æ•°ä¸ªæ—¥è½ã€‚æ—¥è½å‰çš„50åˆ†é’Ÿé‡Œï¼Œå¤ªé˜³ä¸åœ°é¢çš„å¤¹è§’ç”±6Â°ç§»åŠ¨åˆ°-4Â°ï¼Œç•™ä¸‹é•€ä¸Šé‡‘çº¢è‰²çš„ã€æŸ”ç„¦çš„ä¸–ç•Œã€‚ä»–ä»¬å«å®ƒ'GoldenHour'ï¼Œè€Œæˆ‘å–œæ¬¢å«å¦ä¸€ä¸ªåå­—â€”â€”'æµé‡‘æ—¶åˆ»'ã€‚"</p>
                            <a href="#" class="read-more">é˜…è¯»æ›´å¤š <i class="fas fa-arrow-right"></i></a>
                        </div>
                    </article>
                </div>
            </section>
            
            <!-- è˜‘è‡æœˆæœˆè®°éƒ¨åˆ† -->
            <section id="monthly">
                <h2 class="section-title">è˜‘è‡æœˆæœˆè®°</h2>
                <div class="monthly-calendar">
                    <div class="calendar-header">
                        <button class="calendar-nav prev-month"><i class="fas fa-chevron-left"></i></button>
                        <h3 class="calendar-title">2023å¹´10æœˆ</h3>
                        <button class="calendar-nav next-month"><i class="fas fa-chevron-right"></i></button>
                    </div>
                    <div class="calendar-weekdays">
                        <div class="weekday">æ—¥</div>
                        <div class="weekday">ä¸€</div>
                        <div class="weekday">äºŒ</div>
                        <div class="weekday">ä¸‰</div>
                        <div class="weekday">å››</div>
                        <div class="weekday">äº”</div>
                        <div class="weekday">å…­</div>
                    </div>
                    <div class="calendar-days">
                        <!-- æ—¥å†æ—¥æœŸå°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    
                    <!-- æƒé™æ§åˆ¶åŒºåŸŸ - ç®€å•æ£•è‰²æŒ‰é’® -->
                    <div class="permission-control">
                        <button class="permission-btn" id="editToggle">
                            <i class="fas fa-edit"></i> ä½œè€…ç™»å½•
                        </button>
                    </div>
                </div>
                
                <!-- æ—¥å†è´´çº¸èƒŒæ™¯ -->
                <div class="calendar-stickers">
                    <div class="sticker sticker-pinecone"></div>
                    <div class="sticker sticker-mushroom"></div>
                    <div class="sticker sticker-leaf"></div>
                </div>
            </section>
            
            <!-- æ£®æ—å®è—éƒ¨åˆ† -->
            <section id="gallery">
                <h2 class="section-title">æ£®æ—å®è—</h2>
                <div class="gallery-carousel">
                    <div class="carousel-container">
                        <div class="carousel-track">
                            <div class="carousel-slide active" data-index="0">
                                <div class="slide-image" style="background-image: url('images/dm\ 3.jpg')"></div>
                                <div class="slide-content">
                                    <h3>å‚æ™šå…­ç‚¹åŠ</h3>
                                    <p>åˆ†åˆ†ç§’ç§’éƒ½ç²¾å½© å°±è¿™æ ·æ²¦é™·åœ¨äººæµ·</p>
                                </div>
                            </div>
                            <div class="carousel-slide" data-index="1">
                                <div class="slide-image" style="background-image: url('images/dm\ 6.jpg')"></div>
                                <div class="slide-content">
                                    <h3>å‚æ™šå…­ç‚¹åŠ</h3>
                                    <p>åˆ†åˆ†ç§’ç§’éƒ½ç²¾å½© å°±è¿™æ ·æ²¦é™·åœ¨äººæµ·</p>
                                </div>
                            </div>
                            <div class="carousel-slide" data-index="2">
                                <div class="slide-image" style="background-image: url('images/xd\ 11.jpg')"></div>
                                <div class="slide-content">
                                    <h3>å°å²›å¤å¤©</h3>
                                    <p>å°±è¿™æ ·ï¼Œåœ¨è·¯ä¸Š</p>
                                </div>
                            </div>
                            <div class="carousel-slide" data-index="3">
                                <div class="slide-image" style="background-image: url('images/lr\ 4.jpg')"></div>
                                <div class="slide-content">
                                    <h3>æ—¥è½æ—¶åˆ†</h3>
                                    <p>"è½æ—¥æººäºæ©˜å­æµ·ï¼Œæ™šé£é™·äºèµ¤è¯šçˆ±"</p>
                                </div>
                            </div>
                            <div class="carousel-slide" data-index="4">
                                <div class="slide-image" style="background-image: url('images/xd\ 12.jpg')"></div>
                                <div class="slide-content">
                                    <h3>å°å²›å¤å¤©</h3>
                                    <p>å»ä¸€ä¸ªå°å²›ï¼Œä¸€ä¸ªæ™¨æ˜éš¾è¾¨çš„å²›å±¿</p>
                                </div>
                            </div>
                            <div class="carousel-slide" data-index="5">
                                <div class="slide-image" style="background-image: url('images/xd\ 6.jpg')"></div>
                                <div class="slide-content">
                                    <h3>ç¯å¡”</h3>
                                    <p>"çˆ±æ˜¯äº˜å¤é•¿æ˜çš„ç¯å¡”"â€”â€”â€”â€”æ³°æˆˆå°”</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- æŒ‡ç¤ºå™¨ -->
                        <div class="carousel-indicators">
                            <span class="indicator active" data-index="0"></span>
                            <span class="indicator" data-index="1"></span>
                            <span class="indicator" data-index="2"></span>
                            <span class="indicator" data-index="3"></span>
                            <span class="indicator" data-index="4"></span>
                            <span class="indicator" data-index="5"></span>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- é¡µè„š -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>æœ€åçš„æœ€å</h3>
                <p>è˜‘è‡æ£®æ—ğŸ„ æ³¡æ³¡ä¸–ç•ŒğŸŒ</p>
                <p>è¿™ä¸ªä¸–ç•Œæ²¡æœ‰"å¤§äºº"ï¼åœ¨è¿™é‡Œæ— æ‰€ç•æƒ§</p>
                <p>è¯·æŠ“ä½æ¯ä¸€ç¬é—´ï¼Œå‡­æ„Ÿè§‰ï¼Œæ‰¾åˆ°èº«ä½“é‡Œçš„å°å°è‡ªå·±</p>
                <p>æ„Ÿè°¢å€¾å¬è˜‘è‡çš„ç”Ÿæ´»ç¢ç¢å¿µï¼</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-weibo"></i></a>
                    <a href="#"><i class="fab fa-weixin"></i></a>
                    <a href="#"><i class="fab fa-github"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>å¿«é€Ÿé“¾æ¥</h3>
                <ul class="footer-links">
                    <li><a href="#">é¦–é¡µ</a></li>
                    <li><a href="#blog">è˜‘è‡æœ­è®°</a></li>
                    <li><a href="#monthly">è˜‘è‡æœˆæœˆè®°</a></li>
                    <li><a href="#gallery">æ£®æ—å®è—</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Call Meï¼ï¼ï¼</h3>
                <ul class="footer-links">
                    <li><i class="fas fa-envelope"></i> contact@mushroomforest.com</li>
                    <li><i class="fas fa-phone"></i> +86 138 0013 8000</li>
                    <li><i class="fas fa-map-marker-alt"></i> ä¸­å›½ Â· å®æ³¢</li>
                </ul>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2023 è˜‘è‡æ£®æ—ä¸ªäººåšå®¢ | æ¢ç´¢è‡ªç„¶ä¹‹ç¾ï¼Œè®°å½•ç”Ÿæ´»ç‚¹æ»´</p>
        </div>
    </footer>

    <!-- è˜‘è‡æœ­è®°å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡† -->
    <div id="blogModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-carousel">
                <div class="modal-slides">
                    <!-- åŠ¨æ€æ·»åŠ å›¾ç‰‡ -->
                </div>
                <button class="modal-nav modal-prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="modal-nav modal-next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- æ£®æ—å®è—å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡† -->
    <div id="galleryModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div class="modal-carousel">
                <div class="modal-slides">
                    <!-- åŠ¨æ€æ·»åŠ å›¾ç‰‡ -->
                </div>
                <button class="modal-nav modal-prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="modal-nav modal-next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScriptä»£ç  -->
    <script>
        // è˜‘è‡å‘å…‰æ•ˆæœ
        const exploreBtn = document.getElementById('exploreBtn');
        const mushroom = document.getElementById('mushroom');
        
        // æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
        exploreBtn.addEventListener('click', function() {
            mushroom.classList.toggle('bright');
        });
        
        // æ·»åŠ é¼ æ ‡æ‚¬åœäº‹ä»¶ç›‘å¬å™¨
        exploreBtn.addEventListener('mouseenter', function() {
            mushroom.classList.add('bright');
        });
        
        exploreBtn.addEventListener('mouseleave', function() {
            mushroom.classList.remove('bright');
        });
        
        // ç•™è¨€æ¿åŠŸèƒ½
        const sendBtn = document.querySelector('.send-btn');
        const messageInput = document.querySelector('.message-input textarea');
        const messageList = document.querySelector('.message-list');
        
        sendBtn.addEventListener('click', function() {
            const messageText = messageInput.value.trim();
            if (messageText) {
                const newMessage = document.createElement('div');
                newMessage.className = 'message-item';
                newMessage.innerHTML = `
                    <div class="message-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="message-text">
                        <div class="message-author">æ¸¸å®¢</div>
                        <div class="message-body">${messageText}</div>
                        <div class="message-time">åˆšåˆš</div>
                    </div>
                `;
                messageList.prepend(newMessage);
                messageInput.value = '';
            }
        });
        
        // æ—¥å†åŠŸèƒ½
        function generateCalendar(year, month) {
            const calendarDays = document.querySelector('.calendar-days');
            calendarDays.innerHTML = '';
            
            const firstDay = new Date(year, month, 1);
            const lastDay = new Date(year, month + 1, 0);
            const daysInMonth = lastDay.getDate();
            const startingDay = firstDay.getDay();
            
            // æ·»åŠ ä¸Šä¸ªæœˆçš„æ—¥æœŸ
            const prevMonthLastDay = new Date(year, month, 0).getDate();
            for (let i = startingDay - 1; i >= 0; i--) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = prevMonthLastDay - i;
                calendarDays.appendChild(dayElement);
            }
            
            // æ·»åŠ å½“å‰æœˆçš„æ—¥æœŸ
            for (let i = 1; i <= daysInMonth; i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = i;
                
                // ä¸ºç‰¹å®šæ—¥æœŸæ·»åŠ äº‹ä»¶æ ‡è®°
                if (i === 5 || i === 12 || i === 19 || i === 26) {
                    const eventMarker = document.createElement('div');
                    eventMarker.className = 'event-marker';
                    dayElement.appendChild(eventMarker);
                }
                
                calendarDays.appendChild(dayElement);
            }
            
            // æ·»åŠ ä¸‹ä¸ªæœˆçš„æ—¥æœŸ
            const totalCells = 42; // 6è¡Œx7åˆ—
            const remainingCells = totalCells - (startingDay + daysInMonth);
            for (let i = 1; i <= remainingCells; i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day other-month';
                dayElement.textContent = i;
                calendarDays.appendChild(dayElement);
            }
        }
        
        // åˆå§‹åŒ–æ—¥å†
        let currentDate = new Date();
        generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
        
        // æ›´æ–°æ—¥å†æ ‡é¢˜
        const monthNames = ["ä¸€æœˆ", "äºŒæœˆ", "ä¸‰æœˆ", "å››æœˆ", "äº”æœˆ", "å…­æœˆ", "ä¸ƒæœˆ", "å…«æœˆ", "ä¹æœˆ", "åæœˆ", "åä¸€æœˆ", "åäºŒæœˆ"];
        document.querySelector('.calendar-title').textContent = `${currentDate.getFullYear()}å¹´${monthNames[currentDate.getMonth()]}`;
        
        // æœˆä»½å¯¼èˆª
        document.querySelector('.prev-month').addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() - 1);
            generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
            document.querySelector('.calendar-title').textContent = `${currentDate.getFullYear()}å¹´${monthNames[currentDate.getMonth()]}`;
        });
        
        document.querySelector('.next-month').addEventListener('click', function() {
            currentDate.setMonth(currentDate.getMonth() + 1);
            generateCalendar(currentDate.getFullYear(), currentDate.getMonth());
            document.querySelector('.calendar-title').textContent = `${currentDate.getFullYear()}å¹´${monthNames[currentDate.getMonth()]}`;
        });
        
        // æƒé™æ§åˆ¶åŠŸèƒ½
        const editToggle = document.getElementById('editToggle');
        let isAuthorMode = false;
        
        // ä½œè€…ç™»å½•åŠŸèƒ½
        editToggle.addEventListener('click', function() {
            if (!isAuthorMode) {
                const password = prompt('è¯·è¾“å…¥ä½œè€…å¯†ç ï¼š');
                // ç®€å•å¯†ç éªŒè¯ï¼Œå®é™…åº”ç”¨ä¸­åº”è¯¥ä½¿ç”¨æ›´å®‰å…¨çš„æ–¹å¼
                if (password === 'mogu2023') {
                    isAuthorMode = true;
                    editToggle.innerHTML = '<i class="fas fa-times"></i> é€€å‡ºç¼–è¾‘';
                    editToggle.classList.add('active');
                    enableEditing();
                    showNotification('å·²åˆ‡æ¢åˆ°ä½œè€…æ¨¡å¼ï¼Œç°åœ¨å¯ä»¥ç¼–è¾‘æ—¥å†å†…å®¹ã€‚', 'success');
                } else {
                    showNotification('å¯†ç é”™è¯¯ï¼Œæ— æ³•åˆ‡æ¢åˆ°ä½œè€…æ¨¡å¼ã€‚', 'error');
                }
            } else {
                isAuthorMode = false;
                editToggle.innerHTML = '<i class="fas fa-edit"></i> ä½œè€…ç™»å½•';
                editToggle.classList.remove('active');
                disableEditing();
                showNotification('å·²é€€å‡ºä½œè€…æ¨¡å¼ï¼Œç°åœ¨æ˜¯è®¿å®¢æ¨¡å¼ã€‚', 'info');
            }
        });
        
        // å¯ç”¨ç¼–è¾‘åŠŸèƒ½
        function enableEditing() {
            const calendarDays = document.querySelectorAll('.calendar-day');
            calendarDays.forEach(day => {
                if (!day.classList.contains('other-month')) {
                    day.setAttribute('contenteditable', 'true');
                    day.classList.add('editable');
                    
                    // æ·»åŠ è¾“å…¥äº‹ä»¶ç›‘å¬å™¨ï¼Œå®æ—¶ä¿å­˜å†…å®¹
                    day.addEventListener('input', function() {
                        saveCalendarData();
                    });
                }
            });
            
            // æ·»åŠ åŒå‡»æ·»åŠ äº‹ä»¶æ ‡è®°çš„åŠŸèƒ½
            calendarDays.forEach(day => {
                if (!day.classList.contains('other-month')) {
                    day.addEventListener('dblclick', function() {
                        if (isAuthorMode) {
                            const eventMarker = document.createElement('div');
                            eventMarker.className = 'event-marker';
                            this.appendChild(eventMarker);
                            saveCalendarData(); // ä¿å­˜äº‹ä»¶æ ‡è®°
                        }
                    });
                }
            });
        }
        
        // ç¦ç”¨ç¼–è¾‘åŠŸèƒ½
        function disableEditing() {
            const calendarDays = document.querySelectorAll('.calendar-day');
            calendarDays.forEach(day => {
                day.setAttribute('contenteditable', 'false');
                day.classList.remove('editable');
                
                // ç§»é™¤è¾“å…¥äº‹ä»¶ç›‘å¬å™¨
                day.removeEventListener('input', saveCalendarData);
            });
        }
        
        // ä¿å­˜æ—¥å†æ•°æ®åˆ°localStorage
        function saveCalendarData() {
            const calendarData = {};
            const calendarDays = document.querySelectorAll('.calendar-day');
            
            calendarDays.forEach((day, index) => {
                if (!day.classList.contains('other-month')) {
                    // è·å–æ—¥æœŸå†…å®¹
                    const content = day.textContent.replace(/\n/g, '').trim();
                    
                    // æ£€æŸ¥æ˜¯å¦æœ‰äº‹ä»¶æ ‡è®°
                    const hasEvent = day.querySelector('.event-marker') !== null;
                    
                    // ä¿å­˜æ•°æ®
                    calendarData[index] = {
                        content: content,
                        hasEvent: hasEvent
                    };
                }
            });
            
            // ä¿å­˜åˆ°localStorage
            localStorage.setItem('mushroomCalendarData', JSON.stringify(calendarData));
        }
        
        // ä»localStorageåŠ è½½æ—¥å†æ•°æ®
        function loadCalendarData() {
            const savedData = localStorage.getItem('mushroomCalendarData');
            if (savedData) {
                const calendarData = JSON.parse(savedData);
                const calendarDays = document.querySelectorAll('.calendar-day');
                
                calendarDays.forEach((day, index) => {
                    if (!day.classList.contains('other-month') && calendarData[index]) {
                        // æ¢å¤å†…å®¹
                        day.textContent = calendarData[index].content;
                        
                        // æ¢å¤äº‹ä»¶æ ‡è®°
                        if (calendarData[index].hasEvent) {
                            const eventMarker = document.createElement('div');
                            eventMarker.className = 'event-marker';
                            day.appendChild(eventMarker);
                        }
                    }
                });
            }
        }
        
        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type) {
            // åˆ›å»ºé€šçŸ¥å…ƒç´ 
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div class="notification-content">
                    <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                    <span>${message}</span>
                </div>
            `;
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(notification);
            
            // æ˜¾ç¤ºé€šçŸ¥
            setTimeout(() => {
                notification.classList.add('show');
            }, 10);
            
            // è‡ªåŠ¨éšè—
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // é¡µé¢åŠ è½½æ—¶ä»localStorageæ¢å¤æ•°æ®
        document.addEventListener('DOMContentLoaded', function() {
            loadCalendarData();
        });
        
        // è˜‘è‡æœ­è®°è‡ªåŠ¨è½®æ’­åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const blogPosts = document.querySelectorAll('.blog-post');
            
            blogPosts.forEach(post => {
                const carouselSlides = post.querySelectorAll('.carousel-slide');
                const indicators = post.querySelectorAll('.indicator');
                
                let currentIndex = 0;
                let autoPlayInterval;
                const slideCount = carouselSlides.length;
                
                // é¢„åŠ è½½æ‰€æœ‰å›¾ç‰‡ï¼Œç¡®ä¿è½®æ’­å¹³æ»‘
                function preloadImages() {
                    carouselSlides.forEach(slide => {
                        const img = new Image();
                        img.src = slide.style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i, '$1');
                        img.onload = function() {
                            // å›¾ç‰‡åŠ è½½å®Œæˆåï¼Œç¡®ä¿è½®æ’­å®¹å™¨æœ‰æ­£ç¡®çš„èƒŒæ™¯è‰²
                            slide.style.backgroundColor = 'transparent';
                        };
                    });
                }
                
                // åˆå§‹åŒ–è½®æ’­
                function initCarousel() {
                    preloadImages();
                    updateCarousel();
                    startAutoPlay();
                }
                
                // æ›´æ–°è½®æ’­æ˜¾ç¤º
                function updateCarousel() {
                    carouselSlides.forEach((slide, index) => {
                        slide.classList.remove('active');
                        if (index === currentIndex) {
                            slide.classList.add('active');
                        }
                    });
                    
                    indicators.forEach((indicator, index) => {
                        indicator.classList.remove('active');
                        if (index === currentIndex) {
                            indicator.classList.add('active');
                        }
                    });
                }
                
                // åˆ‡æ¢åˆ°ä¸‹ä¸€å¼ 
                function nextSlide() {
                    currentIndex = (currentIndex + 1) % slideCount;
                    updateCarousel();
                }
                
                // å¼€å§‹è‡ªåŠ¨æ’­æ”¾
                function startAutoPlay() {
                    autoPlayInterval = setInterval(nextSlide, 4000); // 4ç§’åˆ‡æ¢ä¸€æ¬¡
                }
                
                // åœæ­¢è‡ªåŠ¨æ’­æ”¾
                function stopAutoPlay() {
                    clearInterval(autoPlayInterval);
                }
                
                // é‡ç½®è‡ªåŠ¨æ’­æ”¾
                function resetAutoPlay() {
                    stopAutoPlay();
                    startAutoPlay();
                }
                
                // æŒ‡ç¤ºå™¨ç‚¹å‡»äº‹ä»¶
                indicators.forEach((indicator, index) => {
                    indicator.addEventListener('click', function() {
                        currentIndex = index;
                        updateCarousel();
                        resetAutoPlay();
                    });
                });
                
                // é¼ æ ‡æ‚¬åœæ—¶æš‚åœè‡ªåŠ¨æ’­æ”¾
                post.addEventListener('mouseenter', stopAutoPlay);
                post.addEventListener('mouseleave', startAutoPlay);
                
                // åˆå§‹åŒ–è½®æ’­
                initCarousel();
            });
        });

        // æ£®æ—å®è—è½®æ’­åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const carouselTrack = document.querySelector('.carousel-track');
            const slides = document.querySelectorAll('.carousel-slide');
            const indicators = document.querySelectorAll('.carousel-indicators .indicator');
            
            let currentIndex = 0;
            let autoPlayInterval;
            const slideCount = slides.length;
            
            // é¢„åŠ è½½æ‰€æœ‰å›¾ç‰‡ï¼Œç¡®ä¿è½®æ’­å¹³æ»‘
            function preloadImages() {
                slides.forEach(slide => {
                    const img = new Image();
                    img.src = slide.querySelector('.slide-image').style.backgroundImage.replace(/url\(['"]?(.*?)['"]?\)/i, '$1');
                    img.onload = function() {
                        // å›¾ç‰‡åŠ è½½å®Œæˆåï¼Œç¡®ä¿è½®æ’­å®¹å™¨æœ‰æ­£ç¡®çš„èƒŒæ™¯è‰²
                        slide.style.backgroundColor = 'transparent';
                    };
                });
            }
            
            // åˆå§‹åŒ–è½®æ’­
            function initCarousel() {
                preloadImages();
                updateCarousel();
                startAutoPlay();
            }
            
            // æ›´æ–°è½®æ’­æ˜¾ç¤º
            function updateCarousel() {
                slides.forEach((slide, index) => {
                    slide.classList.remove('active');
                    if (index === currentIndex) {
                        slide.classList.add('active');
                    }
                });
                
                indicators.forEach((indicator, index) => {
                    indicator.classList.remove('active');
                    if (index === currentIndex) {
                        indicator.classList.add('active');
                    }
                });
            }
            
            // åˆ‡æ¢åˆ°ä¸‹ä¸€å¼ 
            function nextSlide() {
                currentIndex = (currentIndex + 1) % slideCount;
                updateCarousel();
            }
            
            // å¼€å§‹è‡ªåŠ¨æ’­æ”¾
            function startAutoPlay() {
                autoPlayInterval = setInterval(nextSlide, 4000); // 4ç§’åˆ‡æ¢ä¸€æ¬¡
            }
            
            // åœæ­¢è‡ªåŠ¨æ’­æ”¾
            function stopAutoPlay() {
                clearInterval(autoPlayInterval);
            }
            
            // é‡ç½®è‡ªåŠ¨æ’­æ”¾
            function resetAutoPlay() {
                stopAutoPlay();
                startAutoPlay();
            }
            
            // æŒ‡ç¤ºå™¨ç‚¹å‡»äº‹ä»¶
            indicators.forEach((indicator, index) => {
                indicator.addEventListener('click', function() {
                    currentIndex = index;
                    updateCarousel();
                    resetAutoPlay();
                });
            });
            
            // é¼ æ ‡æ‚¬åœæ—¶æš‚åœè‡ªåŠ¨æ’­æ”¾
            const carouselContainer = document.querySelector('.carousel-container');
            carouselContainer.addEventListener('mouseenter', stopAutoPlay);
            carouselContainer.addEventListener('mouseleave', startAutoPlay);
            
            // åˆå§‹åŒ–è½®æ’­
            initCarousel();
        });

        // è˜‘è‡æœ­è®°å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡†åŠŸèƒ½
        const blogModal = document.getElementById('blogModal');
        const blogModalSlides = document.querySelector('#blogModal .modal-slides');
        const blogModalPrev = document.querySelector('#blogModal .modal-prev');
        const blogModalNext = document.querySelector('#blogModal .modal-next');
        const blogCloseBtn = document.querySelector('#blogModal .close');
        
        let blogModalCurrentIndex = 0;
        let blogModalSlidesCount = 0;
        let currentBlogPost = null;
        
        // ä¸ºæ¯ä¸ªåšå®¢æ–‡ç« çš„è½®æ’­å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.blog-post').forEach(post => {
            const carouselSlides = post.querySelectorAll('.carousel-slide');
            
            carouselSlides.forEach((slide, index) => {
                slide.addEventListener('click', function() {
                    openBlogModal(post, index);
                });
            });
        });
        
        // æ‰“å¼€è˜‘è‡æœ­è®°æ¨¡æ€æ¡†
        function openBlogModal(blogPost, startIndex) {
            currentBlogPost = blogPost;
            blogModalCurrentIndex = startIndex;
            blogModalSlides.innerHTML = '';
            
            // è·å–å½“å‰æ–‡ç« çš„æ‰€æœ‰å›¾ç‰‡
            const carouselSlides = blogPost.querySelectorAll('.carousel-slide');
            blogModalSlidesCount = carouselSlides.length;
            
            // åˆ›å»ºæ¨¡æ€æ¡†ä¸­çš„å›¾ç‰‡
            carouselSlides.forEach(slide => {
                const modalSlide = document.createElement('div');
                modalSlide.className = 'modal-slide';
                modalSlide.style.backgroundImage = slide.style.backgroundImage;
                blogModalSlides.appendChild(modalSlide);
            });
            
            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            blogModal.style.display = 'block';
            updateBlogModal();
            
            // åœæ­¢æ‰€æœ‰è˜‘è‡æœ­è®°è‡ªåŠ¨è½®æ’­
            document.querySelectorAll('.blog-post').forEach(post => {
                const carousel = post.querySelector('.post-carousel');
                if (carousel) {
                    const autoPlayInterval = carousel.getAttribute('data-interval');
                    if (autoPlayInterval) {
                        clearInterval(parseInt(autoPlayInterval));
                    }
                }
            });
        }
        
        // æ›´æ–°è˜‘è‡æœ­è®°æ¨¡æ€æ¡†æ˜¾ç¤º
        function updateBlogModal() {
            const modalSlides = document.querySelectorAll('#blogModal .modal-slide');
            modalSlides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index === blogModalCurrentIndex) {
                    slide.classList.add('active');
                }
            });
        }
        
        // è˜‘è‡æœ­è®°æ¨¡æ€æ¡†ä¸‹ä¸€å¼ 
        blogModalNext.addEventListener('click', function() {
            blogModalCurrentIndex = (blogModalCurrentIndex + 1) % blogModalSlidesCount;
            updateBlogModal();
        });
        
        // è˜‘è‡æœ­è®°æ¨¡æ€æ¡†ä¸Šä¸€å¼ 
        blogModalPrev.addEventListener('click', function() {
            blogModalCurrentIndex = (blogModalCurrentIndex - 1 + blogModalSlidesCount) % blogModalSlidesCount;
            updateBlogModal();
        });
        
        // å…³é—­è˜‘è‡æœ­è®°æ¨¡æ€æ¡†
        blogCloseBtn.addEventListener('click', function() {
            blogModal.style.display = 'none';
            
            // æ¢å¤è˜‘è‡æœ­è®°è‡ªåŠ¨è½®æ’­
            document.querySelectorAll('.blog-post').forEach(post => {
                const carousel = post.querySelector('.post-carousel');
                if (carousel) {
                    startAutoPlayForBlogCarousel(carousel);
                }
            });
        });
        
        // ç‚¹å‡»è˜‘è‡æœ­è®°æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', function(event) {
            if (event.target === blogModal) {
                blogModal.style.display = 'none';
                
                // æ¢å¤è˜‘è‡æœ­è®°è‡ªåŠ¨è½®æ’­
                document.querySelectorAll('.blog-post').forEach(post => {
                    const carousel = post.querySelector('.post-carousel');
                    if (carousel) {
                        startAutoPlayForBlogCarousel(carousel);
                    }
                });
            }
        });
        
        // ä¸ºè˜‘è‡æœ­è®°è½®æ’­å¯åŠ¨è‡ªåŠ¨æ’­æ”¾çš„å‡½æ•°
        function startAutoPlayForBlogCarousel(carousel) {
            const carouselSlides = carousel.querySelectorAll('.carousel-slide');
            const indicators = carousel.querySelectorAll('.indicator');
            let currentIndex = 0;
            const slideCount = carouselSlides.length;
            
            const interval = setInterval(() => {
                currentIndex = (currentIndex + 1) % slideCount;
                
                carouselSlides.forEach((slide, index) => {
                    slide.classList.remove('active');
                    if (index === currentIndex) {
                        slide.classList.add('active');
                    }
                });
                
                indicators.forEach((indicator, index) => {
                    indicator.classList.remove('active');
                    if (index === currentIndex) {
                        indicator.classList.add('active');
                    }
                });
            }, 4000);
            
            carousel.setAttribute('data-interval', interval);
        }

        // æ£®æ—å®è—å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡†åŠŸèƒ½
        const galleryModal = document.getElementById('galleryModal');
        const galleryModalSlides = document.querySelector('#galleryModal .modal-slides');
        const galleryModalPrev = document.querySelector('#galleryModal .modal-prev');
        const galleryModalNext = document.querySelector('#galleryModal .modal-next');
        const galleryCloseBtn = document.querySelector('#galleryModal .close');
        
        let galleryModalCurrentIndex = 0;
        let galleryModalSlidesCount = 0;
        
        // ä¸ºæ£®æ—å®è—çš„è½®æ’­å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('#gallery .carousel-slide').forEach(slide => {
            slide.addEventListener('click', function() {
                openGalleryModal(parseInt(this.getAttribute('data-index')));
            });
        });
        
        // æ‰“å¼€æ£®æ—å®è—æ¨¡æ€æ¡†
        function openGalleryModal(startIndex) {
            galleryModalCurrentIndex = startIndex;
            galleryModalSlides.innerHTML = '';
            
            // è·å–æ‰€æœ‰æ£®æ—å®è—å›¾ç‰‡
            const gallerySlides = document.querySelectorAll('#gallery .carousel-slide');
            galleryModalSlidesCount = gallerySlides.length;
            
            // åˆ›å»ºæ¨¡æ€æ¡†ä¸­çš„å›¾ç‰‡
            gallerySlides.forEach(slide => {
                const modalSlide = document.createElement('div');
                modalSlide.className = 'modal-slide';
                modalSlide.style.backgroundImage = slide.querySelector('.slide-image').style.backgroundImage;
                
                // å¤åˆ¶æ ‡é¢˜å’Œæè¿°
                const slideContent = slide.querySelector('.slide-content').cloneNode(true);
                modalSlide.appendChild(slideContent);
                
                galleryModalSlides.appendChild(modalSlide);
            });
            
            // æ˜¾ç¤ºæ¨¡æ€æ¡†
            galleryModal.style.display = 'block';
            updateGalleryModal();
            
            // åœæ­¢æ£®æ—å®è—è‡ªåŠ¨è½®æ’­
            const carouselContainer = document.querySelector('.carousel-container');
            if (carouselContainer) {
                const autoPlayInterval = carouselContainer.getAttribute('data-interval');
                if (autoPlayInterval) {
                    clearInterval(parseInt(autoPlayInterval));
                }
            }
        }
        
        // æ›´æ–°æ£®æ—å®è—æ¨¡æ€æ¡†æ˜¾ç¤º
        function updateGalleryModal() {
            const modalSlides = document.querySelectorAll('#galleryModal .modal-slide');
            modalSlides.forEach((slide, index) => {
                slide.classList.remove('active');
                if (index === galleryModalCurrentIndex) {
                    slide.classList.add('active');
                }
            });
        }
        
        // æ£®æ—å®è—æ¨¡æ€æ¡†ä¸‹ä¸€å¼ 
        galleryModalNext.addEventListener('click', function() {
            galleryModalCurrentIndex = (galleryModalCurrentIndex + 1) % galleryModalSlidesCount;
            updateGalleryModal();
        });
        
        // æ£®æ—å®è—æ¨¡æ€æ¡†ä¸Šä¸€å¼ 
        galleryModalPrev.addEventListener('click', function() {
            galleryModalCurrentIndex = (galleryModalCurrentIndex - 1 + galleryModalSlidesCount) % galleryModalSlidesCount;
            updateGalleryModal();
        });
        
        // å…³é—­æ£®æ—å®è—æ¨¡æ€æ¡†
        galleryCloseBtn.addEventListener('click', function() {
            galleryModal.style.display = 'none';
            
            // æ¢å¤æ£®æ—å®è—è‡ªåŠ¨è½®æ’­
            const carouselContainer = document.querySelector('.carousel-container');
            if (carouselContainer) {
                startAutoPlayForGalleryCarousel(carouselContainer);
            }
        });
        
        // ç‚¹å‡»æ£®æ—å®è—æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
        window.addEventListener('click', function(event) {
            if (event.target === galleryModal) {
                galleryModal.style.display = 'none';
                
                // æ¢å¤æ£®æ—å®è—è‡ªåŠ¨è½®æ’­
                const carouselContainer = document.querySelector('.carousel-container');
                if (carouselContainer) {
                    startAutoPlayForGalleryCarousel(carouselContainer);
                }
            }
        });
        
        // ä¸ºæ£®æ—å®è—è½®æ’­å¯åŠ¨è‡ªåŠ¨æ’­æ”¾çš„å‡½æ•°
        function startAutoPlayForGalleryCarousel(carouselContainer) {
            const carouselSlides = carouselContainer.querySelectorAll('.carousel-slide');
            const indicators = carouselContainer.querySelectorAll('.indicator');
            let currentIndex = 0;
            const slideCount = carouselSlides.length;
            
            const interval = setInterval(() => {
                currentIndex = (currentIndex + 1) % slideCount;
                
                carouselSlides.forEach((slide, index) => {
                    slide.classList.remove('active');
                    if (index === currentIndex) {
                        slide.classList.add('active');
                    }
                });
                
                indicators.forEach((indicator, index) => {
                    indicator.classList.remove('active');
                    if (index === currentIndex) {
                        indicator.classList.add('active');
                    }
                });
            }, 4000);
            
            carouselContainer.setAttribute('data-interval', interval);
        }
    </script>
</body>
</html>